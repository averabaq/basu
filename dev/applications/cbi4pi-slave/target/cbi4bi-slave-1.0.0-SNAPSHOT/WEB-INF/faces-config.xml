<?xml version="1.0" encoding="UTF-8"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
	version="2.0">

	<application>
		<locale-config>
			<default-locale>en_IE</default-locale>
			<!-- 
				<supported-locale>es_ES</supported-locale>
			-->
		</locale-config>
		<message-bundle>message_en</message-bundle>
		<resource-bundle>
			<base-name>navigation</base-name>			
			<var>navigation</var>
		</resource-bundle>
		<el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>

		<system-event-listener>
			<system-event-listener-class>org.primefaces.spring.scope.ViewScopeCallbackRegister</system-event-listener-class>
			<system-event-class>javax.faces.event.PostConstructViewMapEvent</system-event-class>
			<source-class>javax.faces.component.UIViewRoot</source-class>
		</system-event-listener>

		<system-event-listener>
			<system-event-listener-class>org.primefaces.spring.scope.ViewScopeCallbackRegister</system-event-listener-class>
			<system-event-class>javax.faces.event.PreDestroyViewMapEvent</system-event-class>
			<source-class>javax.faces.component.UIViewRoot</source-class>
		</system-event-listener>
	</application>
				
	<!--
	 #######
	 # Security stuff and login sessions are not implemented
	 ####### 
	 -->				
	<!--  Access Listener 
	<lifecycle>
		<phase-listener>
			ie.nuigalway.it.ecrg.f4bpa.event.store.web.listener.AccessListener
		</phase-listener>		
	</lifecycle>	
	-->

	<!--  Desktop navigation rules  -->
	<navigation-rule>
		<description>Desktop page</description>
		<from-view-id>/ui/desktop.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{userSessionController.logout}</from-action>			
			<from-outcome>success</from-outcome>
			<!-- 
			<to-view-id>/ui/login.xhtml</to-view-id>
			 -->
			<to-view-id>/index.jsp</to-view-id>
		</navigation-case>				
	</navigation-rule>	
</faces-config> 